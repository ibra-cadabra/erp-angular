<div class="p-4 max-w-3xl mx-auto">
    <h2 class="text-xl font-bold mb-4">üõ†Ô∏è G√©rer le g√©rant d‚Äôun d√©p√¥t</h2>

    <mat-card>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <!-- S√©lection du d√©p√¥t -->
            <mat-form-field appearance="outline" class="w-full">
                <mat-label>S√©lectionner un d√©p√¥t</mat-label>
                <mat-select (selectionChange)="onDepotChange($event.value)" [(ngModel)]="selectedDepot()!.idDep">
                    <mat-option *ngFor="let depot of depots()" [value]="depot.idDep">
                        {{ depot.name }} (#{{ depot.idDep }})
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <!-- S√©lection d'un g√©rant disponible -->
            <mat-form-field *ngIf="selectedDepot()" appearance="outline" class="w-full">
                <mat-label>Attribuer un g√©rant</mat-label>
                <mat-select (selectionChange)="onGerantChange($event.value)" [(ngModel)]="selectedGerant()!.idUser">
                    <mat-option *ngFor="let g of availableGerants()" [value]="g.idUser">
                        {{ g.name }} {{ g.prename }} (id: {{ g.idUser }})
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>

        <!-- Bouton d'action -->
        <div class="mt-4 flex justify-end gap-2">
            <button (click)="removeGerant()" [disabled]="!currentGerant()" color="warn" mat-stroked-button>
                Retirer g√©rant
            </button>
            <button (click)="assignGerant()" [disabled]="!selectedGerant()" color="primary" mat-raised-button>
                Assigner g√©rant
            </button>
        </div>
    </mat-card>

    <!-- Affichage du g√©rant actuel -->
    <div *ngIf="currentGerant()" class="mt-6 p-4 border rounded shadow bg-gray-50">
        <strong>G√©rant actuel :</strong>
        {{ currentGerant()?.name }} {{ currentGerant()?.prename }} (id: {{ currentGerant()?.idUser }})
    </div>
</div>
