<mat-card *ngIf="user" class="profil-container">
    <mat-card-header>
        <div class="avatar-circle" mat-card-avatar>
            {{ user.prename[0] }}{{ user.name[0] }}
        </div>
        <mat-card-title>{{ user.prename }} {{ user.name }}</mat-card-title>
        <mat-card-subtitle>{{ user.role | titlecase }} • {{ user.status }}</mat-card-subtitle>
    </mat-card-header>

    <mat-divider></mat-divider>

    <mat-card-content>
        <div class="section-title">📄 Informations personnelles</div>
        <div class="info-row">
            <span class="label">📩 Email :</span>
            <span class="value">{{ user.email || 'Non renseigné' }}</span>
        </div>
        <div class="info-row">
            <span class="label">📱 Téléphone :</span>
            <span class="value">{{ user.phone || 'Non renseigné' }}</span>
        </div>
        <div class="info-row">
            <span class="label">🔒 Numéro de sécurité sociale :</span>
            <span class="value">{{ user.numSec || 'Non renseigné' }}</span>
        </div>
        <div *ngIf="user.status === 'auto-entrepreneur'" class="info-row">
            <span class="label">🧾 SIRET :</span>
            <span class="value">{{ user.numSiret }}</span>
        </div>

        <div class="section-title">🏠 Adresse</div>
        <div class="info-row">
            <span class="label">Adresse :</span>
            <span class="value">
        {{ user.address || 'Non renseignée' }},
                {{ user.postaleCode || '' }} {{ user.city || '' }}
      </span>
        </div>

        <div class="section-title">🚐 Affectations</div>
        <div class="info-row">
            <span class="label">Véhicule :</span>
            <span class="value">{{ getVehicule() }}</span>
        </div>
        <div class="info-row">
            <span class="label">Dépôt :</span>
            <span class="value">{{ getDepot() }}</span>
        </div>
    </mat-card-content>

    <mat-card-actions align="end">
        <button (click)="editUser()" color="primary" mat-flat-button>✏️ Modifier</button>
        <button (click)="setAccess()" color="accent" mat-stroked-button>🔐 Donner accès</button>
    </mat-card-actions>
</mat-card>
